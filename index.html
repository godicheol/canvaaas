<!DOCTYPE html>
<html>
  <head>
	<title>canvaaas</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<!-- ! -->
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel='stylesheet' href='./dist/canvaaas.css' />
	<script src="./dist/canvaaas.js"></script>
	<!-- ! -->

	<style>
		html,
		body,
		div{
			margin: 0;
			padding: 0;
		}

		#container{
			/*padding: 24px;*/
			overflow: hidden;
			background-color: #000;
		}

		#logger{
			width: 100%; 
			word-break: all;
			white-space: wrap;
		}
	</style>
  </head>
  <body style="">

  	<!-- main -->
		<!-- <div id="container"></div> -->
		<div id="container">
			<img src="/img/1.jpeg" alt="">
			<img src="/img/2.jpeg" alt="">
			<img src="/img/3.jpeg" alt="">
			<img src="/img/4.jpeg" alt="">
		</div>

		<div id="logger" style=""></div>

		<div id="buttons">
		  <!-- buttons -->
		  <input type="file" onchange="canvaaas.uploadFiles(this)" multiple>
		  <button type="button" onclick="canvaaas.uploadUrls('/img/1.jpeg')">uploadUrls(string)</button>
		  <button type="button" onclick="canvaaas.uploadUrls(
			['/img/3.jpg', '/img/3.jpeg', '/img/4.png', '/img/3.png']
		  )">uploadUrls(array)</button>
		  <button type="button" onclick="canvaaas.uploadUrls('/img/1.svg')">uploadUrls(string)</button>

		  //
		  <br>
		  <button type="button" onclick="canvaaas.moveX(canvaaas.this(), 10)">moveX(id, 10)</button>
		  <button type="button" onclick="canvaaas.moveX(canvaaas.this(), -10)">moveX(id, -10)</button>
		  <button type="button" onclick="canvaaas.moveY(canvaaas.this(), 10)">moveY(id, 10)</button>
		  <button type="button" onclick="canvaaas.moveY(canvaaas.this(), -10)">moveY(id, -10)</button>
		  <button type="button" onclick="canvaaas.moveTo(canvaaas.this(), 0, 0)">moveTo(id, 0, 0)</button>
		  <button type="button" onclick="canvaaas.moveTo(canvaaas.this(), 0.5, 0.5)">moveTo(id, 0.5, 0.5)</button>
		  <button type="button" onclick="canvaaas.moveTo(canvaaas.this(), 1, 1)">moveTo(id, 1, 1)</button>
		  //
		  <button type="button" onclick="canvaaas.zoom(canvaaas.this(), 0.1)">zoom(id, 0.1)</button>
		  <button type="button" onclick="canvaaas.zoom(canvaaas.this(), -0.1)">zoom(id, -0.1)</button>
		  <button type="button" onclick="canvaaas.zoomTo(canvaaas.this(), 0.01)">zoomTo(id, 0.01)</button>
		  <button type="button" onclick="canvaaas.zoomTo(canvaaas.this(), 'cover')">zoomTo(id, 'cover')</button>
		  <button type="button" onclick="canvaaas.zoomTo(canvaaas.this(), 'contain')">zoomTo(id, 'contain')</button>
		  //
		  <button type="button" onclick="canvaaas.rotate(canvaaas.this(), 45)">rotate(id, 45)</button>
		  <button type="button" onclick="canvaaas.rotateTo(canvaaas.this(), 45)">rotateTo(id, 45)</button>
		  //
		  <button type="button" onclick="canvaaas.flipX(canvaaas.this())">flipX(id)</button>
		  <button type="button" onclick="canvaaas.flipY(canvaaas.this())">flipY(id)</button>
		  //
		  <button type="button" onclick="canvaaas.opacityTo(canvaaas.this(), 0)">opacityTo(id, 0)</button>
		  <button type="button" onclick="canvaaas.opacityTo(canvaaas.this(), 0.5)">opacityTo(id, 0.5)</button>
		  <button type="button" onclick="canvaaas.opacityTo(canvaaas.this(), 1)">opacityTo(id, 1)</button>
		  //
		  <button type="button" onclick="canvaaas.indexUp(canvaaas.this())">indexUp(id)</button>
		  <button type="button" onclick="canvaaas.indexDown(canvaaas.this())">indexDown(id)</button>
		  <button type="button" onclick="canvaaas.indexTo(canvaaas.this(), 1)">indexTo(id, 1)</button>
		  <button type="button" onclick="canvaaas.indexTo(canvaaas.this(), 1000)">indexTo(id, 1000)</button>
		  //
		  <button type="button" onclick="canvaaas.show(window.prompt())">show(id)</button>
		  <button type="button" onclick="canvaaas.hide(canvaaas.this())">hide(id)</button>
		  <button type="button" onclick="console.log(canvaaas.getHiddens())">getHiddens()</button>
		  //
		  <button type="button" onclick="canvaaas.focusIn(canvaaas.this())">focusIn(id)</button>
		  <button type="button" onclick="canvaaas.focusOut()">focusOut()</button>
		  //
		  <button type="button" onclick="canvaaas.enableFocus(window.prompt())">enableFocus(id)</button>
		  <button type="button" onclick="canvaaas.enableMove(canvaaas.this())">enableMove(id)</button>
		  <button type="button" onclick="canvaaas.enableResize(canvaaas.this())">enableResize(id)</button>
		  <button type="button" onclick="canvaaas.enableRotate(canvaaas.this())">enableRotate(id)</button>
		  <button type="button" onclick="canvaaas.enableFlip(canvaaas.this())">enableFlip(id)</button>
		  <button type="button" onclick="canvaaas.enableDraw(canvaaas.this())">enableDraw(id)</button>
		  //
		  <button type="button" onclick="canvaaas.disableFocus(canvaaas.this())">disableFocus(id)</button>
		  <button type="button" onclick="canvaaas.disableMove(canvaaas.this())">disableMove(id)</button>
		  <button type="button" onclick="canvaaas.disableResize(canvaaas.this())">disableResize(id)</button>
		  <button type="button" onclick="canvaaas.disableRotate(canvaaas.this())">disableRotate(id)</button>
		  <button type="button" onclick="canvaaas.disableFlip(canvaaas.this())">disableFlip(id)</button>
		  <button type="button" onclick="canvaaas.disableDraw(canvaaas.this())">disableDraw(id)</button>
		  //
		  <button type="button" onclick="canvaaas.setState(canvaaas.this(), tmpState1)">setState(id, tmpState1)</button>
		  //
		  <button type="button" onclick="canvaaas.removeOne(canvaaas.this())">removeOne(id)</button>
		  <button type="button" onclick="canvaaas.removeAll()">removeAll()</button>
		  //

		  <!-- config -->

		  <button type="button" onclick="canvaaas.setConfig(tmpConfig1)">setConfig(tmpConfig1)</button>
		  //
		  <button type="button" onclick="canvaaas.setCanvas(512, 512)">setCanvas(512, 512)</button>
		  <button type="button" onclick="canvaaas.setCanvas(1920, 1080)">setCanvas(1920, 1080)</button>
		  <button type="button" onclick="canvaaas.setCanvas(1080, 1920)">setCanvas(1080, 1920)</button>
		  //
		  <button type="button" onclick="canvaaas.hideContainer()">hideContainer()</button>
		  <button type="button" onclick="canvaaas.showContainer()">showContainer()</button>
		  //
		  <button type="button" onclick="canvaaas.editable()">editable()</button>
		  <button type="button" onclick="canvaaas.uneditable()">uneditable()</button>
		  //
		  <button type="button" onclick="canvaaas.setFillColor('#000000')">setFillColor("000000")</button>
		  <button type="button" onclick="canvaaas.setFillColor('FFFFFF')">setFillColor('FFFFFF')</button>
		  <button type="button" onclick="canvaaas.unsetFillColor()">unsetFillColor()</button>
		  //
		  <button type="button" onclick="canvaaas.setMimeType('image/jpeg')">setMimeType('image/jpeg')</button>
		  <button type="button" onclick="canvaaas.setMimeType('image/png')">setMimeType('image/png')</button>
		  <button type="button" onclick="canvaaas.unsetMimeType()">unsetMimeType()</button>
		  //
		  <button type="button" onclick="canvaaas.setExtentions(['jpg', 'jpeg', 'png'])">setExtentions(['jpg', 'jpeg', 'png'])</button>
		  <button type="button" onclick="canvaaas.setExtentions(['png'])">setExtentions(['png'])</button>
		  <button type="button" onclick="canvaaas.unsetExtentions()">unsetExtentions()</button>
		  //
		  <button type="button" onclick="canvaaas.setMaxNumberOfImages(1)">setMaxNumberOfImages(1)</button>
		  //
		  <button type="button" onclick="canvaaas.setOverlay()">setOverlay()</button>
		  <button type="button" onclick="canvaaas.unsetOverlay()">unsetOverlay()</button>
		  //
		  <button type="button" onclick="canvaaas.setMagnetic()">setMagnetic()</button>
		  <button type="button" onclick="canvaaas.unsetMagnetic()">unsetMagnetic()</button>
		  //
		  <button type="button" onclick="canvaaas.lockAspectRatio()">lockAspectRatio()</button>
		  <button type="button" onclick="canvaaas.unlockAspectRatio()">unlockAspectRatio()</button>
		  //
		  <button type="button" onclick="canvaaas.draw()">draw()</button>
		  //
		  <button type="button" onclick="canvaaas.preview()">preview()</button>
		  <button type="button" onclick="canvaaas.escapePreview()">escapePreview()</button>
		  //
		  <button type="button" onclick="canvaaas.download()">download()</button>
		  //
		  <button type="button" onclick="canvaaas.export()">export()</button>
		  <button type="button" onclick="canvaaas.export(['width', 'height', 'x', 'y'])">export(array)</button>
		  <button type="button" onclick="canvaaas.import(tmp_states)">import(states)</button>
		  //
		  <button type="button" onclick="console.log(canvaaas.this())">this()</button>
		  <button type="button" onclick="console.log(canvaaas.thisData())">thisData()</button>
		  //
		  <button type="button" onclick="console.log(canvaaas.getConfigData())">getConfigData()</button>
		  <button type="button" onclick="console.log(canvaaas.getContainerData())">getContainerData()</button>
		  <button type="button" onclick="console.log(canvaaas.getCanvasData())">getCanvasData()</button>
		  <button type="button" onclick="console.log(canvaaas.getImageData())">getImageData()</button>
		  <button type="button" onclick="console.log(canvaaas.getUndoData())">getUndoData()</button>
		  <button type="button" onclick="console.log(canvaaas.getRedoData())">getRedoData()</button>
		  //
		  <button type="button" onclick="canvaaas.undo()">undo()</button>
		  <button type="button" onclick="canvaaas.redo()">redo()</button>
		  //
		  <button type="button" onclick="canvaaas.reset(tmpConfig2)">reset()</button>
		  <button type="button" onclick="canvaaas.destroy()">destroy()</button>
		</div>


		<div style="display: inline-block; width: 30%; border: 1px solid; font-size: 0px;">
		  <img id="preview1" style="width: 100%;" src="" alt="">
		</div>
		<div style="display: inline-block; width: 30%; border: 1px solid; font-size: 0px;">
		  <img id="preview2" style="width: 100%;" src="" alt="">
		</div>
		<div style="display: inline-block; width: 30%; border: 1px solid; font-size: 0px;">
		  <img id="preview3" style="width: 100%;" src="" alt="">
		</div>

	<script>

		var tmp_id;
		var tmp_states;

		function saveRecent(err, x) {
			tmp_id = x;
		}

	  var tmpState1 = {
			// setState
			index: 9999,
			rotate: 15,
			scaleX: -1,
			scaleY: 1,
			opacity: 0.7,

			focusable: true,
			movable: true,
			resizable: true,
			rotatable: true,
			flippable: true,
			drawable: true,
	  }

	  var tmpConfig1 = {
			// setConfig
			editable: false
	  }

	  var tmpConfig2 = {
			// reset()
			// editable: false
	  }

	  var elem = document.getElementById("container");
	  canvaaas.init(elem, {
	  	filename: undefined,
			// maxNumberOfImages: 1,
			containerAspectRatio: 1,
			maxContainerHeight: 0.7,
			canvasWidth: 1920, // number, px
			canvasHeight: 1080, // number, px
			maxImageRenderWidth: 1, // number, 0 ~ 1
			maxImageRenderHeight: 1, // number, 0 ~ 1
			focus: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("focus", res);
			},
			move: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("move", res);
			},
			resize: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("resize", res);
			},
			rotate: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("rotate", res);
			},
			flip: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("flip", res);
			},
			opacity: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("opacity", res);
			},
			index: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("index", res);
			},
			visibility: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("visibility", res);
			},
			state: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("state", res);
			},
			remove: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("remove", res);
			},
			config: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("config", res);
			},
			canvas: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("canvas", res);
			},
			upload: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("upload", res);
			},
			draw: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("draw", res);
			},
			preview: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("preview", res);
			},
			download: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("download", res);
			},
			export: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("export", res);
			  tmp_states = res;
			},
			import: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("import", res);
			},
			redo: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("redo", res);
			},
			undo: function(err, res){
				if (err) {
		  		console.log(err);
		  		return false;
		  	}
			  console.log("undo", res);
			},
	  }, function(err){
	  	if (err) {
	  		console.log(err);
	  	}
	  	// after init
			canvaaas.preview();
	  });

	  // test 1
		// canvaaas.uploadUrls('/img/2.jpeg', function(err, res){
		// 	if (err) {
		// 		console.log(err);
		// 	}
		// 	var id = res[0];
			
		// 	canvaaas.zoomTo(id, "contain");
		// 	canvaaas.moveTo(id, 0.5, 0.5);
		// 	canvaaas.preview();
		// });
		

	</script>
 </body>
</html>
